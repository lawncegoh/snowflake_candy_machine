{"ast":null,"code":"/**\r\n * WebSocket implements a browser-side WebSocket specification.\r\n * @module Client\r\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = _default;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _eventemitter = require(\"eventemitter3\");\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar WebSocketBrowserImpl = /*#__PURE__*/function (_EventEmitter) {\n  (0, _inherits2[\"default\"])(WebSocketBrowserImpl, _EventEmitter);\n\n  var _super = _createSuper(WebSocketBrowserImpl);\n  /** Instantiate a WebSocket class\r\n   * @constructor\r\n   * @param {String} address - url to a websocket server\r\n   * @param {(Object)} options - websocket options\r\n   * @param {(String|Array)} protocols - a list of protocols\r\n   * @return {WebSocketBrowserImpl} - returns a WebSocket instance\r\n   */\n\n\n  function WebSocketBrowserImpl(address, options, protocols) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, WebSocketBrowserImpl);\n    _this = _super.call(this);\n    _this.socket = new window.WebSocket(address, protocols);\n\n    _this.socket.onopen = function () {\n      return _this.emit(\"open\");\n    };\n\n    _this.socket.onmessage = function (event) {\n      return _this.emit(\"message\", event.data);\n    };\n\n    _this.socket.onerror = function (error) {\n      return _this.emit(\"error\", error);\n    };\n\n    _this.socket.onclose = function (event) {\n      _this.emit(\"close\", event.code, event.reason);\n    };\n\n    return _this;\n  }\n  /**\r\n   * Sends data through a websocket connection\r\n   * @method\r\n   * @param {(String|Object)} data - data to be sent via websocket\r\n   * @param {Object} optionsOrCallback - ws options\r\n   * @param {Function} callback - a callback called once the data is sent\r\n   * @return {Undefined}\r\n   */\n\n\n  (0, _createClass2[\"default\"])(WebSocketBrowserImpl, [{\n    key: \"send\",\n    value: function send(data, optionsOrCallback, callback) {\n      var cb = callback || optionsOrCallback;\n\n      try {\n        this.socket.send(data);\n        cb();\n      } catch (error) {\n        cb(error);\n      }\n    }\n    /**\r\n     * Closes an underlying socket\r\n     * @method\r\n     * @param {Number} code - status code explaining why the connection is being closed\r\n     * @param {String} reason - a description why the connection is closing\r\n     * @return {Undefined}\r\n     * @throws {Error}\r\n     */\n\n  }, {\n    key: \"close\",\n    value: function close(code, reason) {\n      this.socket.close(code, reason);\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(type, listener, options) {\n      this.socket.addEventListener(type, listener, options);\n    }\n  }]);\n  return WebSocketBrowserImpl;\n}(_eventemitter.EventEmitter);\n/**\r\n * factory method for common WebSocket instance\r\n * @method\r\n * @param {String} address - url to a websocket server\r\n * @param {(Object)} options - websocket options\r\n * @return {Undefined}\r\n */\n\n\nfunction _default(address, options) {\n  return new WebSocketBrowserImpl(address, options);\n}","map":{"version":3,"sources":["C:/Users/User/OneDrive/Desktop/snowflake_candy_machine/node_modules/rpc-websockets/dist/lib/client/websocket.browser.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_default","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_eventemitter","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","WebSocketBrowserImpl","_EventEmitter","_super","address","options","protocols","_this","socket","window","WebSocket","onopen","emit","onmessage","event","data","onerror","error","onclose","code","reason","key","send","optionsOrCallback","callback","cb","close","addEventListener","type","listener","EventEmitter"],"mappings":"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","sourcesContent":["/**\r\n * WebSocket implements a browser-side WebSocket specification.\r\n * @module Client\r\n */\r\n\"use strict\";\r\n\r\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = _default;\r\n\r\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\r\n\r\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\r\n\r\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\r\n\r\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\r\n\r\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\r\n\r\nvar _eventemitter = require(\"eventemitter3\");\r\n\r\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\r\n\r\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\r\n\r\nvar WebSocketBrowserImpl = /*#__PURE__*/function (_EventEmitter) {\r\n  (0, _inherits2[\"default\"])(WebSocketBrowserImpl, _EventEmitter);\r\n\r\n  var _super = _createSuper(WebSocketBrowserImpl);\r\n\r\n  /** Instantiate a WebSocket class\r\n   * @constructor\r\n   * @param {String} address - url to a websocket server\r\n   * @param {(Object)} options - websocket options\r\n   * @param {(String|Array)} protocols - a list of protocols\r\n   * @return {WebSocketBrowserImpl} - returns a WebSocket instance\r\n   */\r\n  function WebSocketBrowserImpl(address, options, protocols) {\r\n    var _this;\r\n\r\n    (0, _classCallCheck2[\"default\"])(this, WebSocketBrowserImpl);\r\n    _this = _super.call(this);\r\n    _this.socket = new window.WebSocket(address, protocols);\r\n\r\n    _this.socket.onopen = function () {\r\n      return _this.emit(\"open\");\r\n    };\r\n\r\n    _this.socket.onmessage = function (event) {\r\n      return _this.emit(\"message\", event.data);\r\n    };\r\n\r\n    _this.socket.onerror = function (error) {\r\n      return _this.emit(\"error\", error);\r\n    };\r\n\r\n    _this.socket.onclose = function (event) {\r\n      _this.emit(\"close\", event.code, event.reason);\r\n    };\r\n\r\n    return _this;\r\n  }\r\n  /**\r\n   * Sends data through a websocket connection\r\n   * @method\r\n   * @param {(String|Object)} data - data to be sent via websocket\r\n   * @param {Object} optionsOrCallback - ws options\r\n   * @param {Function} callback - a callback called once the data is sent\r\n   * @return {Undefined}\r\n   */\r\n\r\n\r\n  (0, _createClass2[\"default\"])(WebSocketBrowserImpl, [{\r\n    key: \"send\",\r\n    value: function send(data, optionsOrCallback, callback) {\r\n      var cb = callback || optionsOrCallback;\r\n\r\n      try {\r\n        this.socket.send(data);\r\n        cb();\r\n      } catch (error) {\r\n        cb(error);\r\n      }\r\n    }\r\n    /**\r\n     * Closes an underlying socket\r\n     * @method\r\n     * @param {Number} code - status code explaining why the connection is being closed\r\n     * @param {String} reason - a description why the connection is closing\r\n     * @return {Undefined}\r\n     * @throws {Error}\r\n     */\r\n\r\n  }, {\r\n    key: \"close\",\r\n    value: function close(code, reason) {\r\n      this.socket.close(code, reason);\r\n    }\r\n  }, {\r\n    key: \"addEventListener\",\r\n    value: function addEventListener(type, listener, options) {\r\n      this.socket.addEventListener(type, listener, options);\r\n    }\r\n  }]);\r\n  return WebSocketBrowserImpl;\r\n}(_eventemitter.EventEmitter);\r\n/**\r\n * factory method for common WebSocket instance\r\n * @method\r\n * @param {String} address - url to a websocket server\r\n * @param {(Object)} options - websocket options\r\n * @return {Undefined}\r\n */\r\n\r\n\r\nfunction _default(address, options) {\r\n  return new WebSocketBrowserImpl(address, options);\r\n}"]},"metadata":{},"sourceType":"script"}