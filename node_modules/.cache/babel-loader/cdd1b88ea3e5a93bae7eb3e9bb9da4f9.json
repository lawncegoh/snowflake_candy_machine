{"ast":null,"code":"import { PublicKey } from \"@solana/web3.js\";\nexport function parseIdlErrors(idl) {\n  const errors = new Map();\n\n  if (idl.errors) {\n    idl.errors.forEach(e => {\n      var _a;\n\n      let msg = (_a = e.msg) !== null && _a !== void 0 ? _a : e.name;\n      errors.set(e.code, msg);\n    });\n  }\n\n  return errors;\n} // Allow either IdLInstruction or IdlStateMethod since the types share fields.\n\nexport function toInstruction(idlIx, ...args) {\n  if (idlIx.args.length != args.length) {\n    throw new Error(\"Invalid argument length\");\n  }\n\n  const ix = {};\n  let idx = 0;\n  idlIx.args.forEach(ixArg => {\n    ix[ixArg.name] = args[idx];\n    idx += 1;\n  });\n  return ix;\n} // Throws error if any account required for the `ix` is not given.\n\nexport function validateAccounts(ixAccounts, accounts) {\n  ixAccounts.forEach(acc => {\n    // @ts-ignore\n    if (acc.accounts !== undefined) {\n      // @ts-ignore\n      validateAccounts(acc.accounts, accounts[acc.name]);\n    } else {\n      if (accounts[acc.name] === undefined) {\n        throw new Error(`Invalid arguments: ${acc.name} not provided.`);\n      }\n    }\n  });\n} // Translates an address to a Pubkey.\n\nexport function translateAddress(address) {\n  if (typeof address === \"string\") {\n    const pk = new PublicKey(address);\n    return pk;\n  } else {\n    return address;\n  }\n}","map":{"version":3,"sources":["../../../src/program/common.ts"],"names":[],"mappings":"AACA,SAAS,SAAT,QAA0B,iBAA1B;AASA,OAAM,SAAU,cAAV,CAAyB,GAAzB,EAAiC;AACrC,QAAM,MAAM,GAAG,IAAI,GAAJ,EAAf;;AACA,MAAI,GAAG,CAAC,MAAR,EAAgB;AACd,IAAA,GAAG,CAAC,MAAJ,CAAW,OAAX,CAAoB,CAAD,IAAM;;;AACvB,UAAI,GAAG,GAAA,CAAA,EAAA,GAAG,CAAC,CAAC,GAAL,MAAQ,IAAR,IAAQ,EAAA,KAAA,KAAA,CAAR,GAAQ,EAAR,GAAY,CAAC,CAAC,IAArB;AACA,MAAA,MAAM,CAAC,GAAP,CAAW,CAAC,CAAC,IAAb,EAAmB,GAAnB;AACD,KAHD;AAID;;AACD,SAAO,MAAP;AACD,C,CAED;;AACA,OAAM,SAAU,aAAV,CACJ,KADI,EAEJ,GAAG,IAFC,EAEU;AAEd,MAAI,KAAK,CAAC,IAAN,CAAW,MAAX,IAAqB,IAAI,CAAC,MAA9B,EAAsC;AACpC,UAAM,IAAI,KAAJ,CAAU,yBAAV,CAAN;AACD;;AACD,QAAM,EAAE,GAA2B,EAAnC;AACA,MAAI,GAAG,GAAG,CAAV;AACA,EAAA,KAAK,CAAC,IAAN,CAAW,OAAX,CAAoB,KAAD,IAAU;AAC3B,IAAA,EAAE,CAAC,KAAK,CAAC,IAAP,CAAF,GAAiB,IAAI,CAAC,GAAD,CAArB;AACA,IAAA,GAAG,IAAI,CAAP;AACD,GAHD;AAKA,SAAO,EAAP;AACD,C,CAED;;AACA,OAAM,SAAU,gBAAV,CACJ,UADI,EAEJ,QAFI,EAEc;AAElB,EAAA,UAAU,CAAC,OAAX,CAAoB,GAAD,IAAQ;AACzB;AACA,QAAI,GAAG,CAAC,QAAJ,KAAiB,SAArB,EAAgC;AAC9B;AACA,MAAA,gBAAgB,CAAC,GAAG,CAAC,QAAL,EAAe,QAAQ,CAAC,GAAG,CAAC,IAAL,CAAvB,CAAhB;AACD,KAHD,MAGO;AACL,UAAI,QAAQ,CAAC,GAAG,CAAC,IAAL,CAAR,KAAuB,SAA3B,EAAsC;AACpC,cAAM,IAAI,KAAJ,CAAU,sBAAsB,GAAG,CAAC,IAAI,gBAAxC,CAAN;AACD;AACF;AACF,GAVD;AAWD,C,CAED;;AACA,OAAM,SAAU,gBAAV,CAA2B,OAA3B,EAA2C;AAC/C,MAAI,OAAO,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,UAAM,EAAE,GAAG,IAAI,SAAJ,CAAc,OAAd,CAAX;AACA,WAAO,EAAP;AACD,GAHD,MAGO;AACL,WAAO,OAAP;AACD;AACF","sourceRoot":"","sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\r\nexport function parseIdlErrors(idl) {\r\n    const errors = new Map();\r\n    if (idl.errors) {\r\n        idl.errors.forEach((e) => {\r\n            var _a;\r\n            let msg = (_a = e.msg) !== null && _a !== void 0 ? _a : e.name;\r\n            errors.set(e.code, msg);\r\n        });\r\n    }\r\n    return errors;\r\n}\r\n// Allow either IdLInstruction or IdlStateMethod since the types share fields.\r\nexport function toInstruction(idlIx, ...args) {\r\n    if (idlIx.args.length != args.length) {\r\n        throw new Error(\"Invalid argument length\");\r\n    }\r\n    const ix = {};\r\n    let idx = 0;\r\n    idlIx.args.forEach((ixArg) => {\r\n        ix[ixArg.name] = args[idx];\r\n        idx += 1;\r\n    });\r\n    return ix;\r\n}\r\n// Throws error if any account required for the `ix` is not given.\r\nexport function validateAccounts(ixAccounts, accounts) {\r\n    ixAccounts.forEach((acc) => {\r\n        // @ts-ignore\r\n        if (acc.accounts !== undefined) {\r\n            // @ts-ignore\r\n            validateAccounts(acc.accounts, accounts[acc.name]);\r\n        }\r\n        else {\r\n            if (accounts[acc.name] === undefined) {\r\n                throw new Error(`Invalid arguments: ${acc.name} not provided.`);\r\n            }\r\n        }\r\n    });\r\n}\r\n// Translates an address to a Pubkey.\r\nexport function translateAddress(address) {\r\n    if (typeof address === \"string\") {\r\n        const pk = new PublicKey(address);\r\n        return pk;\r\n    }\r\n    else {\r\n        return address;\r\n    }\r\n}\r\n//# sourceMappingURL=common.js.map"]},"metadata":{},"sourceType":"module"}